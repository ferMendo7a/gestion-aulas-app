<mat-toolbar class="toolbar-header mat-elevation-z8">
    <mat-toolbar-row>
        <p>{{titulo}}</p>

        <button mat-button (click)="buscarAulasDisponibles()">
            Consultar aulas disponibles
        </button>

        <span class="flex-spacer"></span>
        <button mat-button (click)="buscarHorarios()">
            <mat-icon>search</mat-icon>
            Buscar
        </button>

    </mat-toolbar-row>
</mat-toolbar>

<mat-card>

    <div class="box-margin-top col-12 no-padding">


        <div class="row">

            <!-- <div class="col-3">
                <mat-form-field>
                    <mat-label>Agrupar por</mat-label>
                    <mat-select [(value)]="filtroCalendario">
                        <mat-option value="C">Curso</mat-option>
                        <mat-option value="A">Aula</mat-option>
                    </mat-select>
                </mat-form-field>
            </div> -->

            <div class="col-4">
                <app-carrera-select (carreraSelected)="setCarreraFiltro($event)" [value]="horarioFiltro.curso.carrera"></app-carrera-select>
            </div>
            <div class="col-4">
                <app-seccion-select (seccionSelected)="setSeccionFiltro($event)" [secciones]="secciones" [value]="horarioFiltro.curso.seccion"></app-seccion-select>
            </div>
            <div class="col-4">
                <app-semestre-select (semestreSelected)="setSemestreFiltro($event)" [value]="horarioFiltro.curso.semestre"></app-semestre-select>
            </div>


            <!-- <div class="flex-form col-8 no-padding" *ngIf="filtroCalendario == 'A'">

                <div class="col-6">
                    <app-aula-select></app-aula-select>
                </div>

            </div> -->

            <div class="col-4">
                <mat-form-field>
                    <mat-label>Seleccione una fecha</mat-label>
                    <input matInput [matDatepicker]="picker" [(ngModel)]="viewDate" (dateChange)="refreshView($event)">
                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-datepicker #picker></mat-datepicker>
                </mat-form-field>
            </div>

            <div class="col-8 content-right">
                <mat-button-toggle-group style="margin-bottom: 10px;">
                    <mat-button-toggle mwlCalendarPreviousView [view]="view" [(viewDate)]="viewDate" (viewDateChange)="closeOpenMonthViewDay()">
                        <mat-icon class="animated fadeIn">arrow_back</mat-icon>
                    </mat-button-toggle>
                    <mat-button-toggle mwlCalendarToday [(viewDate)]="viewDate">Hoy</mat-button-toggle>
                    <mat-button-toggle mwlCalendarNextView [view]="view" [(viewDate)]="viewDate" (viewDateChange)="closeOpenMonthViewDay()">
                        <mat-icon class="animated fadeIn">arrow_forward</mat-icon>
                    </mat-button-toggle>
                </mat-button-toggle-group>
            </div>
        </div>

        <div class="col-12 no-padding">
            <div *ngIf="events">

                <div [ngSwitch]="view">
                    <mwl-calendar-month-view *ngSwitchCase="CalendarView.Month" [viewDate]="viewDate" [events]="events" [refresh]="refresh" [activeDayIsOpen]="activeDayIsOpen" (dayClicked)="dayClicked($event.day)" (eventClicked)="openDialogHorario($event.event)" (eventTimesChanged)="eventTimesChanged($event)"
                        [locale]="locale">
                    </mwl-calendar-month-view>
                    <mwl-calendar-week-view *ngSwitchCase="CalendarView.Week" [viewDate]="viewDate" [events]="events" [refresh]="refresh" (eventClicked)="openDialogHorario($event.event)" (eventTimesChanged)="eventTimesChanged($event)" [dayStartHour]="horaInicio" [dayEndHour]="horaFin"
                        [locale]="locale">
                    </mwl-calendar-week-view>
                    <mwl-calendar-day-view *ngSwitchCase="CalendarView.Day" [viewDate]="viewDate" [events]="events" [refresh]="refresh" (eventClicked)="openDialogHorario($event.event)" (eventTimesChanged)="eventTimesChanged($event)" [dayStartHour]="horaInicio" [dayEndHour]="horaFin"
                        [locale]="locale">
                    </mwl-calendar-day-view>
                </div>
            </div>
        </div>

        <div class="float-button">
            <button mat-fab (click)="openDialogHorario($event)">
        <mat-icon>add</mat-icon>
    </button>
        </div>

    </div>

</mat-card>